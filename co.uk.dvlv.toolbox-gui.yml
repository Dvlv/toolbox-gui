app-id: co.uk.dvlv.toolbox-gui
runtime: org.gnome.Platform
runtime-version: '42'
sdk: org.gnome.Sdk
finish-args:
  - --socket=wayland
  - --socket=fallback-x11
  - --socket=session-bus
  - --filesystem=xdg-data
  - --filesystem=~/.icons
command: toolbox-gui
modules:
  - name: runner
    buildsystem: simple
    build-commands:
      - install -D toolbox-gui-flatpak /app/bin/toolbox-gui
      - cp -r src /app/src

      - mkdir -p /app/share/applications
      - install -D co.uk.dvlv.toolbox-gui.desktop /app/share/applications/

      - mkdir -p /app/share/icons/hicolor/scalable/apps
      - install -D icons/co.uk.dvlv.toolbox-gui.svg /app/share/icons/hicolor/scalable/apps
    sources:
      - type: file
        path: co.uk.dvlv.toolbox-gui.desktop

      - type: file
        path: icons/co.uk.dvlv.toolbox-gui.png
        
      - type: file
        path: src/echo_into_file.sh
        
      - type: file
        path: toolbox-gui-flatpak

      - type: dir
        path: icons
        dest: icons

      - type: dir
        path: src
        dest: src
