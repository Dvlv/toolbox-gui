app-id: co.uk.dvlv.Tb
runtime: org.gnome.Platform
runtime-version: '42'
sdk: org.gnome.Sdk
finish-args:
  - --socket=x11
  - --socket=wayland
command: runner.sh
modules:
  - name: pip pygobject
    buildsystem: simple
    build-commands:
      - pip3 install --verbose --exists-action=i --no-index --find-links="file://${PWD}" --prefix=${FLATPAK_DEST} "pygobject" --no-build-isolation
    sources:
      - type: file
        url: https://files.pythonhosted.org/packages/41/d0/7eaebdca0723b267b96a8b7de2743cc223fbb47f651346b3e9b768acf8dd/PyGObject-3.42.1.tar.gz
        sha256: 80d6a3ad1630e9d1edf31b9e9fad9a894c57e18545a3c95ef0044ac4042b8620

  - name: runner
    buildsystem: simple
    build-commands:
      - install -D runner.sh /app/bin/runner.sh
      - install -D main.py /app/main.py
    sources:
      - type: file
        path: main.py
      - type: file
        path: runner.sh
